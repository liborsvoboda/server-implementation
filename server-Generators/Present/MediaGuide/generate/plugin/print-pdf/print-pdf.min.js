var page=new WebPage,system=require("system"),slideWidth=system.args[3]?system.args[3].split("x")[0]:960,slideHeight=system.args[3]?system.args[3].split("x")[1]:700,inputFile,outputFile;page.viewportSize={width:slideWidth,height:slideHeight};page.paperSize={width:Math.round(slideWidth*2),height:Math.round(slideHeight*2),border:0};inputFile=system.args[1]||"index.html?print-pdf";outputFile=system.args[2]||"slides.pdf";outputFile.match(/\.pdf$/gi)===null&&(outputFile+=".pdf");console.log("Printing PDF (Paper size: "+page.paperSize.width+"x"+page.paperSize.height+")");page.open(inputFile,function(){window.setTimeout(function(){console.log("Printed successfully");page.render(outputFile);phantom.exit()},1e3)});